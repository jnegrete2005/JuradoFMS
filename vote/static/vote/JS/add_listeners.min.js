import{getKeyByValue}from"./util.js";import{modes_to_int}from"./classes.js";import{changeMode}from"./change_mode.js";Array.from(document.getElementsByClassName("listen")).forEach(e=>{e.addEventListener("click",async t=>{t.preventDefault();const a=document.getElementById("mode").dataset.current_mode,o=void 0!==e.dataset.mode?e.dataset.mode:getKeyByValue(modes_to_int,modes_to_int[a]+parseInt(e.dataset.op));return"end"===o?(history.pushState({show_table:!0,replica:!1},"","#end"),await changeMode(a,o),void import("./end.js").then(e=>e.fillTable())):"end_replica"===o?(history.pushState({show_table:!0,replica:!0},"","#end"),await changeMode(a,o),void import("./replica.js").then(e=>e.fillRepTable())):(history.pushState({new_mode:o,show_table:!1},"",`#${o}`),void changeMode(a,o))})});